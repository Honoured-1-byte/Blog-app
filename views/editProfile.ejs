<%- include('./partials/heads') %>
    <%- include('./partials/nav') %>

        <style>
            body {
                background-color: transparent !important;
                background-image: none !important;
                /* Remove the grid lines */
                /* Allow background image to show */
                color: #fff;
                position: relative;
                min-height: 100vh;
            }

            body::before {
                content: "";
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-image: url('https://res.cloudinary.com/dnyg7ue5v/image/upload/v1765452879/-Buddha_ojlarp.jpg');
                background-size: cover;
                background-position: center;
                z-index: -1;
                pointer-events: none;

                /* CYAN FILTER */
                /* Filter removed */
                opacity: 0.8;
            }

            .settings-card {
                background: rgba(20, 20, 20, 0.8);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 20px;
            }

            .form-control-dark {
                background: #111;
                border: 1px solid #333;
                color: #fff;
            }

            .form-control-dark:focus {
                background: #111;
                color: #fff;
                border-color: #0dcaf0;
                box-shadow: 0 0 10px rgba(13, 202, 240, 0.3);
            }
        </style>

        <div class="container mt-5">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <h2 class="fw-bold mb-4">Edit Profile</h2>

                    <div class="settings-card p-5">
                        <form action="/user/edit-profile" method="POST" enctype="multipart/form-data">

                            <div class="text-center mb-4">
                                <img src="<%= user.profileImageURL %>"
                                    class="rounded-circle border border-secondary mb-3"
                                    style="width: 100px; height: 100px; object-fit: cover;">
                                <br>
                                <label class="btn btn-outline-secondary btn-sm rounded-pill">
                                    Change Photo <input type="file" name="profileImage" hidden>
                                </label>
                            </div>

                            <div class="mb-3">
                                <label class="form-label text-secondary">Display Name</label>
                                <input type="text" name="fullName" class="form-control form-control-dark"
                                    value="<%= user.fullName %>" required>
                            </div>

                            <div class="mb-4">
                                <label class="form-label text-secondary">About Me (Bio)</label>
                                <textarea name="bio" class="form-control form-control-dark"
                                    rows="4"><%= user.bio || '' %></textarea>
                                <div class="form-text text-secondary">Tell the world who you are.</div>
                            </div>

                            <div class="d-flex justify-content-end gap-2">
                                <a href="/user/profile" class="btn btn-outline-light">Cancel</a>
                                <button type="submit" class="btn btn-info fw-bold">Save Changes</button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>

        <%- include('./partials/scripts') %>